import{S as at,i as lt,s as nt,I as fe,e as p,t as $,k,c as h,a as g,h as q,d,m as y,b as _,g as z,F as t,j as B,Z as ot,w as pe,an as rt,x as he,ao as it,y as ge,O as _e,q as ve,o as me,B as be,P as ut}from"../../chunks/vendor-0f79dfe6.js";function Re(o,e,a){const n=o.slice();return n[9]=e[a],n}function Ue(o){let e,a,n,c,i,u=o[0].author.title+"",l;return{c(){e=p("label"),a=p("span"),n=$("Title"),c=k(),i=p("span"),l=$(u),this.h()},l(r){e=h(r,"LABEL",{class:!0});var s=g(e);a=h(s,"SPAN",{class:!0});var v=g(a);n=q(v,"Title"),v.forEach(d),c=y(s),i=h(s,"SPAN",{class:!0});var m=g(i);l=q(m,u),m.forEach(d),s.forEach(d),this.h()},h(){_(a,"class","bg-slate-900"),_(i,"class","badge badge-success bg-slate-900 text-sky-400 input-xs"),_(e,"class","input-group input-group-xs")},m(r,s){z(r,e,s),t(e,a),t(a,n),t(e,c),t(e,i),t(i,l)},p(r,s){s&1&&u!==(u=r[0].author.title+"")&&B(l,u)},d(r){r&&d(e)}}}function We(o){let e,a,n,c,i,u=o[0].date+"",l;return{c(){e=p("label"),a=p("span"),n=$("Date"),c=k(),i=p("span"),l=$(u),this.h()},l(r){e=h(r,"LABEL",{class:!0});var s=g(e);a=h(s,"SPAN",{class:!0});var v=g(a);n=q(v,"Date"),v.forEach(d),c=y(s),i=h(s,"SPAN",{class:!0});var m=g(i);l=q(m,u),m.forEach(d),s.forEach(d),this.h()},h(){_(a,"class","bg-slate-900 rounded-none"),_(i,"class","rounded-none badge badge-info bg-slate-900 text-gray-400 input-xs"),_(e,"class","input-group input-group-xs rounded-none")},m(r,s){z(r,e,s),t(e,a),t(a,n),t(e,c),t(e,i),t(i,l)},p(r,s){s&1&&u!==(u=r[0].date+"")&&B(l,u)},d(r){r&&d(e)}}}function Xe(o){let e,a,n,c,i,u=o[0].source+"",l;return{c(){e=p("label"),a=p("span"),n=$("Source"),c=k(),i=p("span"),l=$(u),this.h()},l(r){e=h(r,"LABEL",{class:!0});var s=g(e);a=h(s,"SPAN",{class:!0});var v=g(a);n=q(v,"Source"),v.forEach(d),c=y(s),i=h(s,"SPAN",{class:!0});var m=g(i);l=q(m,u),m.forEach(d),s.forEach(d),this.h()},h(){_(a,"class","bg-slate-900 rounded-none"),_(i,"class","rounded-none badge badge-warning input-xs bg-slate-900 text-sky-500 input-xs"),_(e,"class","input-group input-group-xs rounded-none")},m(r,s){z(r,e,s),t(e,a),t(a,n),t(e,c),t(e,i),t(i,l)},p(r,s){s&1&&u!==(u=r[0].source+"")&&B(l,u)},d(r){r&&d(e)}}}function Ye(o){let e,a,n,c,i=o[0].tags,u=[];for(let l=0;l<i.length;l+=1)u[l]=et(Re(o,i,l));return{c(){e=p("label"),a=p("span"),n=$("Tags"),c=k();for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){e=h(l,"LABEL",{class:!0});var r=g(e);a=h(r,"SPAN",{class:!0});var s=g(a);n=q(s,"Tags"),s.forEach(d),c=y(r);for(let v=0;v<u.length;v+=1)u[v].l(r);r.forEach(d),this.h()},h(){_(a,"class","bg-slate-900 rounded-none"),_(e,"class","input-group input-group-xs rounded-none")},m(l,r){z(l,e,r),t(e,a),t(a,n),t(e,c);for(let s=0;s<u.length;s+=1)u[s].m(e,null)},p(l,r){if(r&1){i=l[0].tags;let s;for(s=0;s<i.length;s+=1){const v=Re(l,i,s);u[s]?u[s].p(v,r):(u[s]=et(v),u[s].c(),u[s].m(e,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=i.length}},d(l){l&&d(e),ot(u,l)}}}function et(o){let e,a=o[9]+"",n;return{c(){e=p("span"),n=$(a),this.h()},l(c){e=h(c,"SPAN",{class:!0});var i=g(e);n=q(i,a),i.forEach(d),this.h()},h(){_(e,"class","rounded-none badge badge-warning input-xs bg-slate-600 mx-1 text-sky-500 input-xs")},m(c,i){z(c,e,i),t(e,n)},p(c,i){i&1&&a!==(a=c[9]+"")&&B(n,a)},d(c){c&&d(e)}}}function tt(o){let e,a,n,c,i,u=o[0].context+"",l;return{c(){e=p("label"),a=p("span"),n=$("Context"),c=k(),i=p("span"),l=$(u),this.h()},l(r){e=h(r,"LABEL",{class:!0});var s=g(e);a=h(s,"SPAN",{class:!0});var v=g(a);n=q(v,"Context"),v.forEach(d),c=y(s),i=h(s,"SPAN",{class:!0});var m=g(i);l=q(m,u),m.forEach(d),s.forEach(d),this.h()},h(){_(a,"class","bg-slate-900 rounded-none"),_(i,"class","rounded-none badge badge-warning input-xs bg-slate-900 text-sky-500 input-xs"),_(e,"class","input-group input-group-xs rounded-none")},m(r,s){z(r,e,s),t(e,a),t(a,n),t(e,c),t(e,i),t(i,l)},p(r,s){s&1&&u!==(u=r[0].context+"")&&B(l,u)},d(r){r&&d(e)}}}function ct(o){var je;let e,a,n,c=o[1]+1+"",i,u,l,r,s,v,m,A,Ee,O,C,ke,H,J,ye,T,G,$e,qe,K,X=o[0].originalText+"",se,Ae,L,M,we,Y,ae=o[0].quoteBody+"",x,Qe,Se,F,De,ee=(o[0].author.name?o[0].author.name:o[0].author)+"",le,Ne,b,V,R,Pe,Le,U,te=(o[0].author.name?o[0].author.name:o[0].author)+"",ne,Ie,oe,re,ie,ue,I,Be,Ve;s=new fe({props:{icon:o[2].question,class:"w-8 h-8 ml-2 -mt-1"}}),A=new fe({props:{icon:o[2].edit,class:"w-8 h-8 ml-2 -mt-1"}}),C=new fe({props:{icon:o[2].upload,class:"w-8 h-8 ml-2 -mt-1"}}),J=new fe({props:{icon:o[2].upsert,class:"w-8 h-8 ml-2 -mt-1"}});let w=o[0].author.title&&Ue(o),Q=o[0].date&&We(o),S=o[0].source&&Xe(o),D=((je=o[0].tags)==null?void 0:je.length)&&Ye(o),N=o[0].context&&tt(o);return{c(){e=p("div"),a=p("div"),n=p("div"),i=$(c),u=k(),l=p("div"),r=p("div"),pe(s.$$.fragment),v=k(),m=p("div"),pe(A.$$.fragment),Ee=k(),O=p("div"),pe(C.$$.fragment),ke=k(),H=p("div"),pe(J.$$.fragment),ye=k(),T=p("label"),G=p("span"),$e=$("Original"),qe=k(),K=p("span"),se=$(X),Ae=k(),L=p("h1"),M=p("span"),we=$("\u201C"),Y=new rt,x=p("span"),Qe=$("\u201D"),Se=k(),F=p("span"),De=$("~ "),le=$(ee),Ne=k(),b=p("div"),V=p("label"),R=p("span"),Pe=$("Author"),Le=k(),U=p("span"),ne=$(te),Ie=k(),w&&w.c(),oe=k(),Q&&Q.c(),re=k(),S&&S.c(),ie=k(),D&&D.c(),ue=k(),N&&N.c(),this.h()},l(f){e=h(f,"DIV",{class:!0});var E=g(e);a=h(E,"DIV",{class:!0});var Z=g(a);n=h(Z,"DIV",{class:!0});var Oe=g(n);i=q(Oe,c),Oe.forEach(d),u=y(Z),l=h(Z,"DIV",{class:!0});var j=g(l);r=h(j,"DIV",{class:!0});var Ce=g(r);he(s.$$.fragment,Ce),Ce.forEach(d),v=y(j),m=h(j,"DIV",{class:!0});var He=g(m);he(A.$$.fragment,He),He.forEach(d),Ee=y(j),O=h(j,"DIV",{class:!0});var Je=g(O);he(C.$$.fragment,Je),Je.forEach(d),ke=y(j),H=h(j,"DIV",{class:!0});var xe=g(H);he(J.$$.fragment,xe),xe.forEach(d),j.forEach(d),Z.forEach(d),ye=y(E),T=h(E,"LABEL",{class:!0});var ce=g(T);G=h(ce,"SPAN",{class:!0});var Fe=g(G);$e=q(Fe,"Original"),Fe.forEach(d),qe=y(ce),K=h(ce,"SPAN",{class:!0});var Ze=g(K);se=q(Ze,X),Ze.forEach(d),ce.forEach(d),Ae=y(E),L=h(E,"H1",{class:!0});var W=g(L);M=h(W,"SPAN",{class:!0});var ze=g(M);we=q(ze,"\u201C"),ze.forEach(d),Y=it(W),x=h(W,"SPAN",{class:!0});var Ge=g(x);Qe=q(Ge,"\u201D"),Ge.forEach(d),Se=y(W),F=h(W,"SPAN",{class:!0});var Te=g(F);De=q(Te,"~ "),le=q(Te,ee),Te.forEach(d),W.forEach(d),Ne=y(E),b=h(E,"DIV",{class:!0});var P=g(b);V=h(P,"LABEL",{class:!0});var de=g(V);R=h(de,"SPAN",{class:!0});var Ke=g(R);Pe=q(Ke,"Author"),Ke.forEach(d),Le=y(de),U=h(de,"SPAN",{class:!0});var Me=g(U);ne=q(Me,te),Me.forEach(d),de.forEach(d),Ie=y(P),w&&w.l(P),oe=y(P),Q&&Q.l(P),re=y(P),S&&S.l(P),ie=y(P),D&&D.l(P),ue=y(P),N&&N.l(P),P.forEach(d),E.forEach(d),this.h()},h(){_(n,"class","count badge bg-gray-700"),_(r,"class","edit-quote hover:cursor-pointer"),_(m,"class","edit-quote hover:cursor-pointer"),_(O,"class","edit-quote hover:cursor-pointer"),_(H,"class","edit-quote hover:cursor-pointer"),_(l,"class","flex"),_(a,"class","flex justify-between"),_(G,"class","bg-slate-900 rounded-none"),_(K,"class","rounded-none badge badge-warning input-xs bg-slate-900 text-sky-500 input-xs"),_(T,"class","input-group input-group-xs rounded-none"),_(M,"class","quote-mark text-sky-300"),Y.a=x,_(x,"class","quote-mark text-sky-300"),_(F,"class","quote-author text-sky-300"),_(L,"class","quote-body p-8 text-2xl"),_(R,"class","bg-slate-900"),_(U,"class","badge badge-success bg-slate-900 text-sky-300 input-xs"),_(V,"class","input-group input-group-xs"),_(b,"class","flex flex-col justify-items-start place-items-start"),_(e,"class","card quote p-3 m-12 shadow-lg border border-2 border-gray-800 rounded-sm bg-gradient-to-br from-transparent via-gray-900 rounded-xl")},m(f,E){z(f,e,E),t(e,a),t(a,n),t(n,i),t(a,u),t(a,l),t(l,r),ge(s,r,null),t(l,v),t(l,m),ge(A,m,null),t(l,Ee),t(l,O),ge(C,O,null),t(l,ke),t(l,H),ge(J,H,null),t(e,ye),t(e,T),t(T,G),t(G,$e),t(T,qe),t(T,K),t(K,se),t(e,Ae),t(e,L),t(L,M),t(M,we),Y.m(ae,L),t(L,x),t(x,Qe),t(L,Se),t(L,F),t(F,De),t(F,le),t(e,Ne),t(e,b),t(b,V),t(V,R),t(R,Pe),t(V,Le),t(V,U),t(U,ne),t(b,Ie),w&&w.m(b,null),t(b,oe),Q&&Q.m(b,null),t(b,re),S&&S.m(b,null),t(b,ie),D&&D.m(b,null),t(b,ue),N&&N.m(b,null),I=!0,Be||(Ve=[_e(r,"click",o[5]),_e(m,"click",o[6]),_e(O,"click",o[7]),_e(H,"click",o[8])],Be=!0)},p(f,[E]){var Z;(!I||E&2)&&c!==(c=f[1]+1+"")&&B(i,c),(!I||E&1)&&X!==(X=f[0].originalText+"")&&B(se,X),(!I||E&1)&&ae!==(ae=f[0].quoteBody+"")&&Y.p(ae),(!I||E&1)&&ee!==(ee=(f[0].author.name?f[0].author.name:f[0].author)+"")&&B(le,ee),(!I||E&1)&&te!==(te=(f[0].author.name?f[0].author.name:f[0].author)+"")&&B(ne,te),f[0].author.title?w?w.p(f,E):(w=Ue(f),w.c(),w.m(b,oe)):w&&(w.d(1),w=null),f[0].date?Q?Q.p(f,E):(Q=We(f),Q.c(),Q.m(b,re)):Q&&(Q.d(1),Q=null),f[0].source?S?S.p(f,E):(S=Xe(f),S.c(),S.m(b,ie)):S&&(S.d(1),S=null),((Z=f[0].tags)==null?void 0:Z.length)?D?D.p(f,E):(D=Ye(f),D.c(),D.m(b,ue)):D&&(D.d(1),D=null),f[0].context?N?N.p(f,E):(N=tt(f),N.c(),N.m(b,null)):N&&(N.d(1),N=null)},i(f){I||(ve(s.$$.fragment,f),ve(A.$$.fragment,f),ve(C.$$.fragment,f),ve(J.$$.fragment,f),I=!0)},o(f){me(s.$$.fragment,f),me(A.$$.fragment,f),me(C.$$.fragment,f),me(J.$$.fragment,f),I=!1},d(f){f&&d(e),be(s),be(A),be(C),be(J),w&&w.d(),Q&&Q.d(),S&&S.d(),D&&D.d(),N&&N.d(),Be=!1,ut(Ve)}}}function dt(o){console.log("\u{1F680} ~ file: DisplayQuotes.svelte ~ line 21 ~ lookupQuote ~ id",o),(async()=>{try{const a=await fetch(`/quotes.dgraph.getQuote?data=${JSON.stringify(o)}&queryType="getQuoteById"`);if(console.log("\u{1F680} ~ file: DisplayQuotes.svelte ~ line 24 ~ fire ~ res",a),a.ok){const{dgraph_quotes:n}=await a.json();return console.log("\u{1F680} ~ file: AddQuote.svelte ~ line 53 ~ load ~ dgraph_quotes",n),{props:{dgraph_quotes:n}}}}catch(a){return console.log("\u{1F680} ~ DisplayQuotes called getQuote.json endpoint: error",a),{body:{error:"There was a server error"}}}})()}function st(o,e){console.log(`\u{1F680} ~ file: DisplayQuotes.svelte ~ line 44 ~ uploadQuote ~ operationType ${e}, quote`,o),(async()=>{try{const n=await fetch(`/quotes.dgraph.getQuote?data=${JSON.stringify(o)}&queryType="${e}"`);if(console.log("\u{1F680} ~ file: DisplayQuotes.svelte ~ line 24 ~ fire ~ res",n),n.ok){const{dgraph_quotes:c}=await n.json();return console.log("\u{1F680} ~ file: AddQuote.svelte ~ line 53 ~ load ~ dgraph_quotes",c),{props:{dgraph_quotes:c}}}}catch(n){return console.log("\u{1F680} ~ DisplayQuotes called getQuote.json endpoint: error",n),{body:{error:"There was a server error"}}}})()}function ft(o,e,a){let{quote:n,i:c}=e,i={edit:"akar-icons:edit",question:"akar-icons:question",upload:"ant-design:cloud-upload-outlined",upsert:"clarity:upload-outline-badged"};const u=A=>{console.log(`edit ${A}`),console.log("\u{1F680} ~ file: DisplayQuotes.svelte ~ line 3 ~ quote",n)},l=A=>{console.log(`query ${A}`),console.log("\u{1F680} ~ file: DisplayQuotes.svelte ~ line 3 ~ quote",n),dt(n.id?n.id:!1)},r=()=>l(c),s=()=>u(c),v=()=>st(n,"addQuote"),m=()=>st(n,"upsertQuote");return o.$$set=A=>{"quote"in A&&a(0,n=A.quote),"i"in A&&a(1,c=A.i)},[n,c,i,u,l,r,s,v,m]}class ht extends at{constructor(e){super();lt(this,e,ft,ct,nt,{quote:0,i:1})}}export{ht as default};
