import{S as X,i as V,s as Y,e as F,c as L,a as b,d as k,b as W,g as q,F as R,L as _,v as j,R as a}from"../chunks/vendor-0f79dfe6.js";function z(h){let c,i,m;return{c(){c=F("div"),i=F("div"),m=F("canvas"),this.h()},l(u){c=L(u,"DIV",{class:!0});var g=b(c);i=L(g,"DIV",{id:!0,class:!0});var t=b(i);m=L(t,"CANVAS",{id:!0}),b(m).forEach(k),t.forEach(k),g.forEach(k),this.h()},h(){W(m,"id","c"),W(i,"id","canvasContainer"),W(i,"class","w-full"),W(c,"class","flex h-full w-screen sketch")},m(u,g){q(u,c,g),R(c,i),R(i,m)},p:_,i:_,o:_,d(u){u&&k(c)}}}function S(h){return h<0?h=h*-1:h=h}function N(h,c,i){let m,u,g;const t={TITLE:"Sketch05",fps:60,minDist:20,maxDistFactor:6,initialLines:0,maxLines:100,speed:3,minWidth:1,maxWidth:4,lineBirthFactor:.25,randomColors:!1,colorFunctions:[{value:0,label:"original"},{value:1,label:"2"},{value:2,label:"3"},{value:3,label:"4"},{value:4,label:"5"},{value:5,label:"6"},{value:6,label:"7"}],colorFunctionsIndex:0};let o=[],r=0,y={};const A=[{x:1,y:0,angle:0},{x:.5,y:.866,angle:60},{x:-.5,y:.866,angle:120},{x:-1,y:0,angle:180},{x:-.5,y:-.866,angle:240},{x:.5,y:-.866,angle:300}];let w,l,s,d;s=d=1080;let M=0,I,C=50;j(()=>{w=document.getElementById("c");let e=document.getElementById("canvasContainer"),n=e.offsetWidth,x=e.offsetHeight;i(2,s=w.width=n),console.log("\u{1F680} ~ file: sketch05.svelte ~ line 92 ~ onMount ~ w",s),i(3,d=w.height=x),E(),l=w.getContext("2d"),window.addEventListener("resize",function(){let f=e.offsetWidth,v=e.offsetHeight;i(2,s=w.width=f),i(3,d=w.height=v),E(),T()}),T(),P()});function E(){s<=600&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 96 ~ onMount ~ w < 600",s<600),i(0,t.minDist=12,t),i(0,t.maxLines=140,t),i(0,t.minWidth=1,t),i(0,t.maxWidth=2,t)),s>600&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 96 ~ onMount ~ w < 600",s<600),i(0,t.minDist=14,t),i(0,t.maxLines=200,t),i(0,t.minWidth=1,t),i(0,t.maxWidth=2,t)),s>1200&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 103 ~ onMount ~ w < 1200",s<1200),i(0,t.minDist=16,t),i(0,t.maxLines=300,t),i(0,t.minWidth=1,t),i(0,t.maxWidth=3,t)),s>1800&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 110 ~ onMount ~ w < 1800",s<1800),i(0,t.minDist=20,t),i(0,t.maxLines=400,t),i(0,t.minWidth=1,t),i(0,t.maxWidth=3,t)),s>=2400&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 117 ~ onMount ~ w >= 1800",s>=1800),i(0,t.minDist=24,t),i(0,t.maxLines=500,t),i(0,t.minWidth=1,t),i(0,t.maxWidth=4,t))}function B(){y.x=a.pick(u),y.y=a.pick(g),y.dirIndex=Math.floor(a.range(0,6))}function T(){i(1,o.length=0,o);for(let e=0;e<t.initialLines;++e){B();let n=new p(y);n.colorFunction=a.pick(t.colorFunctions),o.push(n)}l.fillStyle="#222",l.fillRect(0,0,s,d),l.lineCap="round"}function H(e,n,x,f){f=1;const v=[`hsla( ${n/s*360+r}, 80%, 50%, 0.5 )`,`hsla( ${n/s*180+r-120}, 80%, 50%, ${x/d+r*Math.random()*f} )`,`hsla( ${n/s*180+r-120}, 80%, 50%, ${Math.cos(n)/Math.cos(x)} )`,`hsla( ${n/s*180+r-120}, 80%, 50%, ${r/2-Math.floor(r/2)} )`,`hsla( ${n/s*180+r-120}, 80%, 50%, ${r+1-(r+1)/r} `,`hsla( ${(n/s+x)*180+r/30}, 50%, 50%, ${f} )`,`hsla( ${(n/s+x/d)*r}, 50%, 50%, ${f} )`,`hsla( ${(n/s+x/d)*r}, 50%, 50%, ${f} )`];let D;return t.randomColors?D=v[e]:D=v[t.colorFunctionsIndex],D}function P(){setTimeout(function(){requestAnimationFrame(P)},1e3/t.fps),++r,++M,M>1e3&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 191 ~ anim ~ lines",o),M=0),l.shadowBlur=0,l.fillStyle="rgba(0,0,0,.02)",l.fillRect(0,0,s,d),l.shadowBlur=.5;for(let e=0;e<o.length;++e)o[e].reverse?i(1,o[e].width*=.995,o):i(1,o[e].width*=1.005,o),o[e].step()&&(o.splice(e,1),--e);if(o.length<t.maxLines){B();let e=new p(y);e.dirIndex=Math.floor(a.range(0,6)),e.colorFunction=a.pick(t.colorFunctions),o.push(e),l.fillStyle=l.shadowColor=H(e.colorFunction.value,y.x,y.y,Math.random()),l.beginPath()}}function p(e){this.x=e.x|0,this.y=e.y|0,this.width=e.width|1,this.reverse=!1,this.dirIndex=e.dirIndex,this.colorFunction=a.pick(t.colorFunctions),this.randomFactor=a.range(.1,1);do{this.dirIndex=++this.dirIndex%6,this.dirIndex=S(this.dirIndex);let n=A[this.dirIndex];this.vx=n.x*t.speed,this.vy=n.y*t.speed}while(this.vx===-e.vx&&this.vy===-e.vy||this.vx===e.vx&&this.vy===e.vy);this.lineDist=t.minDist,this.hexDist=m}return p.prototype.wrap=function(){this.x=(this.x+s)%s,this.y=(this.y+d)%d},p.prototype.bounce=function(){(this.x<=0||this.x>=s)&&(this.vx*=-1),(this.y<=0||this.y>=d)&&(this.vy*=-1),this.dirIndex=(this.dirIndex+3)%6},p.prototype.step=function(){let e=!1,n=this.x,x=this.y;if(this.dirIndex=S(this.dirIndex%6),this.x+=this.vx,this.y+=this.vy,this.lineDist-=t.speed,this.hexDist-=t.speed,(this.x<0||this.x>s||this.y<0||this.y>d)&&this.bounce(),this.lineDist<=0){let v;if(this.dirIndex++,Math.random>.5?++this.dirIndex:--this.dirIndex,this.dirIndex=S(this.dirIndex)%6,v=A[this.dirIndex],this.vx=v.x*t.speed,this.vy=v.y*t.speed,this.lineDist=t.minDist,this.hexDist=t.minDist,o.length<t.maxLines&&o.push(new p(this)),Math.random()<t.lineBirthFactor){o.push(new p(this));let D=Math.random()*o.length|0;o.splice(D,1)}}let f=1;if(f=this.vx*this.vy*this.vy,l.strokeStyle=l.shadowColor=H(this.colorFunction.value,this.x,this.y,f),l.beginPath(),l.lineWidth=this.width,l.moveTo(this.x,this.y),l.lineTo(n,x),l.stroke(),this.width>t.maxWidth?this.reverse=!0:this.width<t.minWidth&&(this.reverse=!1),this.hexDist<=0&&(e=!0),e)return!0},h.$$.update=()=>{h.$$.dirty&2,h.$$.dirty&13&&(y={x:s/2,y:d/2,vx:1,vy:.5,width:a.range(t.minWidth,t.maxWidth),reverse:!1,dirIndex:Math.floor(a.range(0,6)),randomFactor:a.range(.1,1)}),h.$$.dirty&1&&(m=t.minDist*t.maxDistFactor),h.$$.dirty&5&&i(4,I=Math.floor(s/t.minDist)),h.$$.dirty&1&&console.log("\u{1F680} ~ file: sketch05.svelte ~ line 73 ~ data.minDist",t.minDist),h.$$.dirty&1&&console.log("\u{1F680} ~ file: sketch05.svelte ~ line 73 ~ data - ",t),h.$$.dirty&16&&console.log("\u{1F680} ~ file: sketch05.svelte ~ line 73 ~ evenX",I),h.$$.dirty&9&&i(5,C=Math.floor(d/t.minDist)),h.$$.dirty&17&&(u=Array.from(Array(I),(e,n)=>n*t.minDist)),h.$$.dirty&33&&(g=Array.from(Array(C),(e,n)=>n*t.minDist))},[t,o,s,d,I,C]}class J extends X{constructor(c){super();V(this,c,N,z,Y,{})}}export{J as default};
