import{D as v,S as D,i as I,s as L,G as j,H as T,J,q as u,o as _,l as b,g as N,n as O,p as k,d as M,Q as p,K as P}from"./vendor-0f79dfe6.js";/* empty css                                             */import"./supabaseClient-46cd2d69.js";import{p as E}from"./stores-4423f7a5.js";const w=v({}),q={subscribe:w.subscribe,set:l=>{console.log("\u{1F680} ~ file: stores.js ~ line 8 ~ val",l),w.set(l),localStorage.setItem("settingsChange",JSON.stringify(l))}};function y(l){let s;const n=l[5].default,e=P(n,l,l[4],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,i){e&&e.m(t,i),s=!0},p(t,i){e&&e.p&&(!s||i&16)&&j(e,n,t,t[4],s?J(n,t[4],i,null):T(t[4]),null)},i(t){s||(u(e,t),s=!0)},o(t){_(e,t),s=!1},d(t){e&&e.d(t)}}}function G(l){let s,n,e=!l[0]&&y(l);return{c(){e&&e.c(),s=b()},l(t){e&&e.l(t),s=b()},m(t,i){e&&e.m(t,i),N(t,s,i),n=!0},p(t,[i]){t[0]?e&&(O(),_(e,1,1,()=>{e=null}),k()):e?(e.p(t,i),i&1&&u(e,1)):(e=y(t),e.c(),u(e,1),e.m(s.parentNode,s))},i(t){n||(u(e),n=!0)},o(t){_(e),n=!1},d(t){e&&e.d(t),t&&M(s)}}}function H(l,s,n){let e,t;p(l,q,a=>n(7,e=a)),p(l,E,a=>n(3,t=a));let{$$slots:i={},$$scope:d}=s,{settings:r={}}=s,{data:f={}}=s,{hidePanel:m=!1}=s,S=(()=>{try{return typeof window.localStorage!="undefined"}catch{return!1}})();g(r,f),h(r,f);function g(a,o){S&&a.localStorage!==!1&&(window.localStorage.setItem(`${o.TITLE}`,JSON.stringify(o)),o.clearLS&&(console.log("\u{1F680} ~ file: CanvasManager.svelte ~ line 29 ~ saveData ~ data.clearLS",o.clearLS),console.log("\u{1F680} ~ file: CanvasManager.svelte ~ line 29 ~ saveData ~ data",o),window.localStorage.setItem(`${o.TITLE}`,JSON.stringify({})),o.clearLS=!1,e.set(!e),h(a,o),g(a,o)))}function h(a,o){if(console.log("\u{1F680} ~ file: CanvasManager.svelte ~ line 41 ~ readData ~ data",o),S&&a.localStorage!==!1)try{const c=window.localStorage.getItem(`${o.TITLE}`);if(!c)return;const C=JSON.parse(c);Object.assign(o,C)}catch(c){console.warn(c)}}return l.$$set=a=>{"settings"in a&&n(1,r=a.settings),"data"in a&&n(2,f=a.data),"hidePanel"in a&&n(0,m=a.hidePanel),"$$scope"in a&&n(4,d=a.$$scope)},l.$$.update=()=>{l.$$.dirty&8&&t.url.pathname,l.$$.dirty&6&&g(r,f)},[m,r,f,t,d,i]}class B extends D{constructor(s){super();I(this,s,H,G,L,{settings:1,data:2,hidePanel:0})}}export{B as C,q as s};
