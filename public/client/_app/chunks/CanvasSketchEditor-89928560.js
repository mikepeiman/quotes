var K=Object.defineProperty,Q=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var L=(s,e,t)=>e in s?K(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,H=(s,e)=>{for(var t in e||(e={}))R.call(e,t)&&L(s,t,e[t]);if(A)for(var t of A(e))U.call(e,t)&&L(s,t,e[t]);return s},M=(s,e)=>Q(s,Y(e));import{S as N,i as O,s as P,Y as V,e as k,c as p,a as S,d as g,b as y,g as z,O as X,L as W,v as Z,a6 as x,a7 as $,a2 as ee,t as te,h as se,F as E,j as ae,G as ne,H as le,J as ie,q as I,o as T,k as J,w as oe,m as q,x as ce,a8 as B,y as re,a9 as fe,n as he,p as de,B as ue,Q as _e,K as ge}from"./vendor-0f79dfe6.js";/* empty css                                             */import{p as ve}from"./stores-4423f7a5.js";function me(s){let e,t,a;return V(s[7]),{c(){e=k("canvas"),this.h()},l(n){e=p(n,"CANVAS",{class:!0}),S(e).forEach(g),this.h()},h(){y(e,"class","rounded-lg svelte-t8neft")},m(n,l){z(n,e,l),s[8](e),t||(a=X(window,"resize",s[7]),t=!0)},p:W,i:W,o:W,d(n){n&&g(e),s[8](null),t=!1,a()}}}function we(s,e,t){let a,n,l,{settings:o={dimensions:[250,205]}}=e,{data:d={}}=e,f={},{sketch:r=()=>{}}=e,c,i,u,C,j,m,b=!1;Z(async()=>{f=await M(H({},o),{canvas:a,parent:a.parentElement,data:d});let _=document.getElementsByTagName("canvas");console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 41 ~ onMount ~ canvases",_),c=await x.exports.canvasSketch(r,f),t(5,i=await c),await i._settings.canvas,u=a.parentElement,console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 46 ~ onMount ~ canvas",a),C=u.offsetWidth,j=u.offsetHeight,console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 44 ~ onMount ~ parent",u),t(1,a.style.width=`${n}px`,a),t(1,a.style.height=`${l}px`,a),t(6,b=!0)});function h(){a.removeAttribute("style"),t(1,a.style.width=`${n}px`,a),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 59 ~ resizeCanvas ~ width",n),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ pw",C),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ ph",j),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 61 ~ resizeCanvas ~ height",l),t(1,a.style.height=`${l}px`,a),a.setAttribute("width",n),a.setAttribute("height",l)}$(()=>{console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 68 ~ onDestroy ~ loader",c),c=null,t(5,i=null)}),console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 65 ~ manager",i);function v(_){console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 65 ~ dataChanged ~ data",_),i&&(Object.assign(i.props.data,_),i.render())}function w(){t(0,m=window.innerWidth)}function D(_){ee[_?"unshift":"push"](()=>{a=_,t(1,a)})}return s.$$set=_=>{"settings"in _&&t(2,o=_.settings),"data"in _&&t(3,d=_.data),"sketch"in _&&t(4,r=_.sketch)},s.$$.update=()=>{s.$$.dirty&65&&b&&m&&h(),s.$$.dirty&1&&console.log("\u{1F680} ~ file: CanvasSketch.svelte ~ line 53 ~ windowInnerW width",m),s.$$.dirty&4&&(n=o.dimensions[0]),s.$$.dirty&4&&(l=o.dimensions[1]),s.$$.dirty&36&&i&&i.update(o),s.$$.dirty&8&&v(d)},[m,a,o,d,r,i,b,w,D]}class ke extends N{constructor(e){super();O(this,e,we,me,P,{settings:2,data:3,sketch:4})}}function F(s){let e,t,a=s[1].TITLE+"",n;return{c(){e=k("div"),t=k("h1"),n=te(a),this.h()},l(l){e=p(l,"DIV",{class:!0});var o=S(e);t=p(o,"H1",{class:!0});var d=S(t);n=se(d,a),d.forEach(g),o.forEach(g),this.h()},h(){y(t,"class","text-2xl text-center text-sky-200 mt-6 w-full self-center"),y(e,"class","title flex items-center justify-center flex w-full self-center svelte-69dtcj")},m(l,o){z(l,e,o),E(e,t),E(t,n)},p(l,o){o&2&&a!==(a=l[1].TITLE+"")&&ae(n,a)},d(l){l&&g(e)}}}function G(s){let e,t;const a=s[9].default,n=ge(a,s,s[8],null);return{c(){e=k("div"),n&&n.c(),this.h()},l(l){e=p(l,"DIV",{class:!0});var o=S(e);n&&n.l(o),o.forEach(g),this.h()},h(){y(e,"class","panel svelte-69dtcj")},m(l,o){z(l,e,o),n&&n.m(e,null),t=!0},p(l,o){n&&n.p&&(!t||o&256)&&ne(n,a,l,l[8],t?ie(a,l[8],o,null):le(l[8]),null)},i(l){t||(I(n,l),t=!0)},o(l){T(n,l),t=!1},d(l){l&&g(e),n&&n.d(l)}}}function pe(s){let e,t,a,n,l,o,d,f=s[6]==="/creative"&&F(s);n=new ke({props:{data:s[1],settings:s[0],sketch:s[2]}});let r=!s[3]&&G(s);return{c(){e=k("main"),f&&f.c(),t=J(),a=k("div"),oe(n.$$.fragment),o=J(),r&&r.c(),this.h()},l(c){e=p(c,"MAIN",{class:!0});var i=S(e);f&&f.l(i),t=q(i),a=p(i,"DIV",{class:!0});var u=S(a);ce(n.$$.fragment,u),u.forEach(g),o=q(i),r&&r.l(i),i.forEach(g),this.h()},h(){y(a,"class","viewport rounded-lg svelte-69dtcj"),V(()=>s[10].call(a)),y(e,"class","sketch rounded-lg svelte-69dtcj"),B(e,"preview",s[6]==="/creative")},m(c,i){z(c,e,i),f&&f.m(e,null),E(e,t),E(e,a),re(n,a,null),l=fe(a,s[10].bind(a)),E(e,o),r&&r.m(e,null),d=!0},p(c,[i]){c[6]==="/creative"?f?f.p(c,i):(f=F(c),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const u={};i&2&&(u.data=c[1]),i&1&&(u.settings=c[0]),i&4&&(u.sketch=c[2]),n.$set(u),c[3]?r&&(he(),T(r,1,1,()=>{r=null}),de()):r?(r.p(c,i),i&8&&I(r,1)):(r=G(c),r.c(),I(r,1),r.m(e,null)),i&64&&B(e,"preview",c[6]==="/creative")},i(c){d||(I(n.$$.fragment,c),I(r),d=!0)},o(c){T(n.$$.fragment,c),T(r),d=!1},d(c){c&&g(e),f&&f.d(),ue(n),l(),r&&r.d()}}}function Se(s,e,t){let a,n;_e(s,ve,h=>t(7,n=h));let{$$slots:l={},$$scope:o}=e,{settings:d={}}=e,{data:f={}}=e,{sketch:r=()=>{}}=e,{hidePanel:c=!1}=e,i,u,C=(()=>{try{return typeof window.localStorage!="undefined"}catch{return!1}})();m(d,f);function j(h,v){C&&h.localStorage!==!1&&window.localStorage.setItem(`${v.TITLE}`,JSON.stringify(v))}function m(h,v){if(C&&h.localStorage!==!1)try{const w=window.localStorage.getItem(`${v.TITLE}`);if(!w)return;const D=JSON.parse(w);Object.assign(v,D)}catch(w){console.warn(w)}}function b(){i=this.offsetWidth,u=this.offsetHeight,t(4,i),t(5,u)}return s.$$set=h=>{"settings"in h&&t(0,d=h.settings),"data"in h&&t(1,f=h.data),"sketch"in h&&t(2,r=h.sketch),"hidePanel"in h&&t(3,c=h.hidePanel),"$$scope"in h&&t(8,o=h.$$scope)},s.$$.update=()=>{s.$$.dirty&128&&t(6,a=n.url.pathname),s.$$.dirty&3&&j(d,f),s.$$.dirty&16&&console.log("\u{1F680} ~ file: CanvasSketchEditor.svelte ~ line 45 ~ viewportW",i)},[d,f,r,c,i,u,a,n,o,l,b]}class Ie extends N{constructor(e){super();O(this,e,Se,pe,P,{settings:0,data:1,sketch:2,hidePanel:3})}}export{Ie as C};
