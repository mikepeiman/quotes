import{S as R,i as V,s as X,e as b,c as k,a as L,d as W,b as M,g as Y,F as P,L as _,v as j,R as c}from"./vendor-0f79dfe6.js";/* empty css                                                      */function q(r){let d,e,x;return{c(){d=b("div"),e=b("div"),x=b("canvas"),this.h()},l(u){d=k(u,"DIV",{class:!0});var g=L(d);e=k(g,"DIV",{id:!0,class:!0});var D=L(e);x=k(D,"CANVAS",{id:!0,class:!0}),L(x).forEach(W),D.forEach(W),g.forEach(W),this.h()},h(){M(x,"id","c"),M(x,"class","relative -z-1"),M(e,"id","canvasContainer"),M(e,"class","relative w-full z-0"),M(d,"class","relative flex -z-1 h-full w-screen sketch")},m(u,g){Y(u,d,g),P(d,e),P(e,x)},p:_,i:_,o:_,d(u){u&&W(d)}}}function S(r){return r<0?r=r*-1:r=r}function N(r,d,e){let x,u,g,{mounted:D}=d;const t={TITLE:"Sketch05",fps:60,minDist:20,maxDistFactor:6,initialLines:0,maxLines:100,speed:3,minWidth:1,maxWidth:4,lineBirthFactor:.25,randomColors:!1,colorFunctions:[{value:0,label:"original"},{value:1,label:"2"},{value:2,label:"3"},{value:3,label:"4"},{value:4,label:"5"},{value:5,label:"6"},{value:6,label:"7"}],colorFunctionsIndex:1};let o=[],l=0,y={};const A=[{x:1,y:0,angle:0},{x:.5,y:.866,angle:60},{x:-.5,y:.866,angle:120},{x:-1,y:0,angle:180},{x:-.5,y:-.866,angle:240},{x:.5,y:-.866,angle:300}];let w,h,s,a;s=a=1080;let C,F=50;j(()=>{w=document.getElementById("c");let i=document.getElementById("canvasContainer"),n=i.offsetWidth,m=i.offsetHeight;e(3,s=w.width=n),e(4,a=w.height=m),E(),h=w.getContext("2d"),window.addEventListener("resize",function(){let f=i.offsetWidth,v=i.offsetHeight;e(3,s=w.width=f),e(4,a=w.height=v),E(),T()}),T(),H()});function E(){s<=600&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 96 ~ onMount ~ w < 600",s<600),e(1,t.minDist=12,t),e(1,t.maxLines=140,t),e(1,t.minWidth=1,t),e(1,t.maxWidth=2,t)),s>600&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 96 ~ onMount ~ w < 600",s<600),e(1,t.minDist=14,t),e(1,t.maxLines=200,t),e(1,t.minWidth=1,t),e(1,t.maxWidth=2,t)),s>1200&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 103 ~ onMount ~ w < 1200",s<1200),e(1,t.minDist=16,t),e(1,t.maxLines=300,t),e(1,t.minWidth=1,t),e(1,t.maxWidth=3,t)),s>1800&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 110 ~ onMount ~ w < 1800",s<1800),e(1,t.minDist=20,t),e(1,t.maxLines=400,t),e(1,t.minWidth=1,t),e(1,t.maxWidth=3,t)),s>=2400&&(console.log("\u{1F680} ~ file: sketch05.svelte ~ line 117 ~ onMount ~ w >= 1800",s>=1800),e(1,t.minDist=24,t),e(1,t.maxLines=500,t),e(1,t.minWidth=1,t),e(1,t.maxWidth=4,t))}function B(){y.x=c.pick(u),y.y=c.pick(g),y.dirIndex=Math.floor(c.range(0,6))}function T(){e(2,o.length=0,o);for(let i=0;i<t.initialLines;++i){B();let n=new p(y);n.colorFunction=c.pick(t.colorFunctions),o.push(n)}h.fillStyle="#222",h.fillRect(0,0,s,a),h.lineCap="round"}function z(i,n,m,f){f=1;const v=[`hsla( ${n/s*360+l}, 80%, 50%, 0.5 )`,`hsla( ${n/s*180+l-120}, 80%, 50%, ${m/a+l*Math.random()*f} )`,`hsla( ${n/s*180+l-120}, 80%, 50%, ${Math.cos(n)/Math.cos(m)} )`,`hsla( ${n/s*180+l-120}, 80%, 50%, ${l/2-Math.floor(l/2)} )`,`hsla( ${n/s*180+l-120}, 80%, 50%, ${l+1-(l+1)/l} `,`hsla( ${(n/s+m)*180+l/30}, 50%, 50%, ${f} )`,`hsla( ${(n/s+m/a)*l}, 50%, 50%, ${f} )`,`hsla( ${(n/s+m/a)*l}, 50%, 50%, ${f} )`];let I;return t.randomColors?I=v[i]:I=v[t.colorFunctionsIndex],I}function H(){setTimeout(function(){requestAnimationFrame(H)},1e3/t.fps),++l,h.shadowBlur=0,h.fillStyle="rgba(0,0,0,.02)",h.fillRect(0,0,s,a),h.shadowBlur=.5;for(let i=0;i<o.length;++i)o[i].reverse?e(2,o[i].width*=.995,o):e(2,o[i].width*=1.005,o),o[i].step()&&(o.splice(i,1),--i);if(o.length<t.maxLines){B();let i=new p(y);i.dirIndex=Math.floor(c.range(0,6)),i.colorFunction=c.pick(t.colorFunctions),o.push(i),h.fillStyle=h.shadowColor=z(i.colorFunction.value,y.x,y.y),h.beginPath()}}function p(i){this.x=i.x|0,this.y=i.y|0,this.width=i.width|1,this.reverse=!1,this.dirIndex=i.dirIndex,this.colorFunction=c.pick(t.colorFunctions),this.randomFactor=c.range(.1,1);do{this.dirIndex=++this.dirIndex%6,this.dirIndex=S(this.dirIndex);let n=A[this.dirIndex];this.vx=n.x*t.speed,this.vy=n.y*t.speed}while(this.vx===-i.vx&&this.vy===-i.vy||this.vx===i.vx&&this.vy===i.vy);this.lineDist=t.minDist,this.hexDist=x}return p.prototype.wrap=function(){this.x=(this.x+s)%s,this.y=(this.y+a)%a},p.prototype.bounce=function(){(this.x<=0||this.x>=s)&&(this.vx*=-1),(this.y<=0||this.y>=a)&&(this.vy*=-1),this.dirIndex=(this.dirIndex+3)%6},p.prototype.step=function(){let i=!1,n=this.x,m=this.y;if(this.dirIndex=S(this.dirIndex%6),this.x+=this.vx,this.y+=this.vy,this.lineDist-=t.speed,this.hexDist-=t.speed,(this.x<0||this.x>s||this.y<0||this.y>a)&&this.bounce(),this.lineDist<=0){let v;if(this.dirIndex++,Math.random>.5?++this.dirIndex:--this.dirIndex,this.dirIndex=S(this.dirIndex)%6,v=A[this.dirIndex],this.vx=v.x*t.speed,this.vy=v.y*t.speed,this.lineDist=t.minDist,this.hexDist=t.minDist,o.length<t.maxLines&&o.push(new p(this)),Math.random()<t.lineBirthFactor){o.push(new p(this));let I=Math.random()*o.length|0;o.splice(I,1)}}let f=1;if(f=this.vx*this.vy*this.vy,h.strokeStyle=h.shadowColor=z(this.colorFunction.value,this.x,this.y,f),h.beginPath(),h.lineWidth=this.width,h.moveTo(this.x,this.y),h.lineTo(n,m),h.stroke(),this.width>t.maxWidth?this.reverse=!0:this.width<t.minWidth&&(this.reverse=!1),this.hexDist<=0&&(i=!0),i)return!0},r.$$set=i=>{"mounted"in i&&e(0,D=i.mounted)},r.$$.update=()=>{r.$$.dirty&4,r.$$.dirty&26&&(y={x:s/2,y:a/2,vx:1,vy:.5,width:c.range(t.minWidth,t.maxWidth),reverse:!1,dirIndex:Math.floor(c.range(0,6)),randomFactor:c.range(.1,1)}),r.$$.dirty&2&&(x=t.minDist*t.maxDistFactor),r.$$.dirty&10&&e(5,C=Math.floor(s/t.minDist)),r.$$.dirty&18&&e(6,F=Math.floor(a/t.minDist)),r.$$.dirty&34&&(u=Array.from(Array(C),(i,n)=>n*t.minDist)),r.$$.dirty&66&&(g=Array.from(Array(F),(i,n)=>n*t.minDist))},[D,t,o,s,a,C,F]}class K extends R{constructor(d){super();V(this,d,N,q,X,{mounted:0})}}export{K as M};
